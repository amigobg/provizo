<%= form_with(model: @product, local: true) do |form| %>
  <div class="row g-5">
    <div class="col-md-12">
      <div class="row g-3">
        <div class="col-12">
          <%= form.label :barcode, class: "form-label" %><span class="text-primary">*</span>
          <div class="input-group has-validation">
            <span class="input-group-text">#</span>
            <%= form.number_field :barcode, class: "form-control", placeholder: "Product barcode", required: true %>
          </div>
        </div>
        
        <div class="col-6">
          <%= form.label :title, class: "form-label" %><span class="text-primary">*</span>
          <%= form.text_field :title, class: "form-control", placeholder: "Full product name", required: true %>
        </div>
        
        <div class="col-md-3">
          <%= form.label :category, class: "form-label" %><span class="text-primary">*</span>
          <%= form.select :category, options_for_select(['банани']), { include_blank: "Select category" }, { class: "form-select", required: true } %>
        </div>

        <div class="col-md-3">
          <%= form.label :image, class: "form-label" %>
          <%= form.file_field :image, class: "form-control", id: "image-2", accept: "image/gif, image/jpeg, image/png" %>
        </div>
        
        <div class="form-group">
          <%= form.label :description, class: "form-label" %>
          <%= form.text_area :description, size: "70x5", class:"form-control" %>
        </div>
        
        <hr class="my-3">
        <%= form.fields_for :price_entries_attributes do |price_entry| %>
          <div class="col-md-2">
            <%= price_entry.label :currency, class: "form-label" %><span class="text-primary">*</span>
            <%= price_entry.select :currency, options_for_select(['BGN', 'EUR', 'USD']), { include_blank: "Select currency" }, { class: "form-select", required: true } %>
          </div> 
          
          <div class="col-sm-3">
            <%= price_entry.label :price, class: "form-label" %><span class="text-primary">*</span>
            <%= price_entry.number_field :price, class: "form-control", placeholder: "Regular price", required: true %>
          </div>

          <div class="col-sm-3">
            <%= price_entry.label :promo_price, class: "form-label" %> <span class="text-body-secondary">(Optional)</span>
            <%= price_entry.number_field :promo_price, class: "form-control", placeholder: "Promotional price" %>
          </div>       
          
          <div class="col-md-4">
            <label for="state" class="form-label">Store</label>
            <select class="form-select" id="state" required>
              <option value="">Choose...</option>
              <option>Metro</option>
            </select>
            <div class="invalid-feedback">
              Please provide store.
            </div>
          </div>
        </div>

        <div class="form-check mt-4 mb-4">
          <input type="checkbox" id="agreement" class="form-check-input" required>
          <label for="agreement">I understand and agree to these terms.</label>
        </div>
        <% end %>

        <%= form.button(type: 'submit', name: "commit", class: "w-100 btn btn-primary btn-lg") do %>
          <i class="bi bi-plus fa-fw me-2"></i>Add product
        <% end %>
    </div>
  </div>
<% end %>